{
  "info": {
    "_postman_id": "b2c3d4e5-f6a7-8901-bcde-f23456789012",
    "name": "Rakez ERP - Sales & Sales Leaders",
    "description": "API collection for Sales and Sales Leader roles only. Verified against full Sales API (routes/api.php: Sales department + Commission/Analytics/Deposits block). Includes: 01 Dashboard (5), 02 Projects (3), 03 Reservation Context (1), 04 Reservations (7), 05 Targets (4), 06 Attendance (1), 07 Assignments (1), 08 Team/Leader (14), 09 Waiting List (6), 10 Negotiations (3), 11 Payment Plan (4), 12 Analytics (5), 13 Commissions (16), 14 Deposits (15). No admin-only endpoints. Auth: Bearer token; run 00 - Auth â†’ Login first. Variables: base_url, token, user_email, user_password; optional ids and schedule_id. Full query params on list endpoints.",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "auth": {
    "type": "bearer",
    "bearer": [
      { "key": "token", "value": "{{token}}", "type": "string" }
    ]
  },
  "variable": [
    { "key": "base_url", "value": "http://localhost:8000/api" },
    { "key": "token", "value": "" },
    { "key": "user_email", "value": "" },
    { "key": "user_password", "value": "" },
    { "key": "contract_id", "value": "1" },
    { "key": "contract_unit_id", "value": "1" },
    { "key": "unit_id", "value": "1" },
    { "key": "reservation_id", "value": "1" },
    { "key": "target_id", "value": "1" },
    { "key": "task_id", "value": "1" },
    { "key": "waiting_list_id", "value": "1" },
    { "key": "negotiation_id", "value": "1" },
    { "key": "commission_id", "value": "1" },
    { "key": "distribution_id", "value": "1" },
    { "key": "deposit_id", "value": "1" },
    { "key": "installment_id", "value": "1" },
    { "key": "user_id", "value": "1" },
    { "key": "sales_reservation_id", "value": "1" },
    { "key": "schedule_id", "value": "1" }
  ],
  "item": [
    {
      "name": "00 - Auth",
      "item": [
        {
          "name": "Login",
          "request": {
            "auth": { "type": "noauth" },
            "method": "POST",
            "header": [
              { "key": "Accept", "value": "application/json", "type": "text" },
              { "key": "Content-Type", "value": "application/json", "type": "text" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"{{user_email}}\",\n  \"password\": \"{{user_password}}\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/login",
              "host": ["{{base_url}}"],
              "path": ["login"]
            },
            "description": "Run first to set token. Sets collection variable token from access_token.",
            "event": [
              {
                "listen": "test",
                "script": {
                  "exec": [
                    "var res = pm.response.json();",
                    "if (res.access_token) {",
                    "  pm.collectionVariables.set('token', res.access_token);",
                    "  pm.test('Login successful', function() { pm.response.to.have.status(200); });",
                    "} else {",
                    "  pm.test('Login failed', function() { pm.expect(res.access_token).to.exist; });",
                    "}"
                  ],
                  "type": "text/javascript"
                }
              }
            ]
          }
        }
      ]
    },
    {
      "name": "01 - Dashboard",
      "description": "Permission: sales.dashboard.view",
      "item": [
        {
          "name": "Get Sales Dashboard",
          "request": {
            "method": "GET",
            "header": [{ "key": "Accept", "value": "application/json", "type": "text" }],
            "url": { "raw": "{{base_url}}/sales/dashboard", "host": ["{{base_url}}"], "path": ["sales", "dashboard"] },
            "description": "Sales dashboard KPIs and summary."
          }
        },
        {
          "name": "Get Sold Units",
          "request": {
            "method": "GET",
            "header": [{ "key": "Accept", "value": "application/json", "type": "text" }],
            "url": { "raw": "{{base_url}}/sales/sold-units", "host": ["{{base_url}}"], "path": ["sales", "sold-units"] },
            "description": "List sold units for sales insights."
          }
        },
        {
          "name": "Get Sold Unit Commission Summary",
          "request": {
            "method": "GET",
            "header": [{ "key": "Accept", "value": "application/json", "type": "text" }],
            "url": { "raw": "{{base_url}}/sales/sold-units/{{unit_id}}/commission-summary", "host": ["{{base_url}}"], "path": ["sales", "sold-units", "{{unit_id}}", "commission-summary"] },
            "description": "Commission summary for a specific sold unit."
          }
        },
        {
          "name": "Get Deposits Management",
          "request": {
            "method": "GET",
            "header": [{ "key": "Accept", "value": "application/json", "type": "text" }],
            "url": { "raw": "{{base_url}}/sales/deposits/management", "host": ["{{base_url}}"], "path": ["sales", "deposits", "management"] },
            "description": "Deposits management view."
          }
        },
        {
          "name": "Get Deposits Follow-up",
          "request": {
            "method": "GET",
            "header": [{ "key": "Accept", "value": "application/json", "type": "text" }],
            "url": { "raw": "{{base_url}}/sales/deposits/follow-up", "host": ["{{base_url}}"], "path": ["sales", "deposits", "follow-up"] },
            "description": "Deposits follow-up list."
          }
        }
      ]
    },
    {
      "name": "02 - Projects",
      "description": "Permission: sales.projects.view",
      "item": [
        {
          "name": "List Sales Projects",
          "request": {
            "method": "GET",
            "header": [{ "key": "Accept", "value": "application/json", "type": "text" }],
            "url": { "raw": "{{base_url}}/sales/projects", "host": ["{{base_url}}"], "path": ["sales", "projects"] },
            "description": "List projects available to sales."
          }
        },
        {
          "name": "Get Project by Contract ID",
          "request": {
            "method": "GET",
            "header": [{ "key": "Accept", "value": "application/json", "type": "text" }],
            "url": { "raw": "{{base_url}}/sales/projects/{{contract_id}}", "host": ["{{base_url}}"], "path": ["sales", "projects", "{{contract_id}}"] },
            "description": "Get project details by contract ID."
          }
        },
        {
          "name": "Get Project Units",
          "request": {
            "method": "GET",
            "header": [{ "key": "Accept", "value": "application/json", "type": "text" }],
            "url": { "raw": "{{base_url}}/sales/projects/{{contract_id}}/units", "host": ["{{base_url}}"], "path": ["sales", "projects", "{{contract_id}}", "units"] },
            "description": "Get units for a project (contract)."
          }
        }
      ]
    },
    {
      "name": "03 - Reservation Context",
      "description": "Permission: sales.reservations.create. Use before creating a reservation.",
      "item": [
        {
          "name": "Get Unit Reservation Context",
          "request": {
            "method": "GET",
            "header": [{ "key": "Accept", "value": "application/json", "type": "text" }],
            "url": { "raw": "{{base_url}}/sales/units/{{unit_id}}/reservation-context", "host": ["{{base_url}}"], "path": ["sales", "units", "{{unit_id}}", "reservation-context"] },
            "description": "Get reservation context for a unit (contract, unit details) before creating reservation."
          }
        }
      ]
    },
    {
      "name": "04 - Reservations",
      "item": [
        {
          "name": "Create Reservation",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Accept", "value": "application/json", "type": "text" },
              { "key": "Content-Type", "value": "application/json", "type": "text" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"contract_id\": {{contract_id}},\n  \"contract_unit_id\": {{contract_unit_id}},\n  \"contract_date\": \"2025-02-18\",\n  \"reservation_type\": \"confirmed_reservation\",\n  \"negotiation_notes\": null,\n  \"negotiation_reason\": null,\n  \"proposed_price\": null,\n  \"evacuation_date\": null,\n  \"client_name\": \"Client Name\",\n  \"client_mobile\": \"+971501234567\",\n  \"client_nationality\": \"UAE\",\n  \"client_iban\": \"AE070331234567890123456\",\n  \"payment_method\": \"bank_transfer\",\n  \"down_payment_amount\": 100000,\n  \"down_payment_status\": \"refundable\",\n  \"purchase_mechanism\": \"cash\"\n}"
            },
            "url": { "raw": "{{base_url}}/sales/reservations", "host": ["{{base_url}}"], "path": ["sales", "reservations"] },
            "description": "Create reservation. reservation_type: confirmed_reservation|negotiation. For negotiation add negotiation_notes, negotiation_reason, proposed_price. payment_method: bank_transfer|cash|bank_financing. down_payment_status: refundable|non_refundable. purchase_mechanism: cash|supported_bank|unsupported_bank."
          }
        },
        {
          "name": "List Reservations",
          "request": {
            "method": "GET",
            "header": [{ "key": "Accept", "value": "application/json", "type": "text" }],
            "url": {
              "raw": "{{base_url}}/sales/reservations?per_page=15&page=1",
              "host": ["{{base_url}}"],
              "path": ["sales", "reservations"],
              "query": [
                { "key": "per_page", "value": "15", "description": "Items per page" },
                { "key": "page", "value": "1" },
                { "key": "mine", "value": "1", "description": "Only my reservations" },
                { "key": "include_cancelled", "value": "0" },
                { "key": "contract_id", "value": "{{contract_id}}" },
                { "key": "status", "value": "" },
                { "key": "from", "value": "" },
                { "key": "to", "value": "" }
              ]
            },
            "description": "List reservations. Full query: mine, include_cancelled, contract_id, status (under_negotiation|confirmed|cancelled), from, to (Y-m-d), per_page, page."
          }
        },
        {
          "name": "Get Reservation by ID",
          "request": {
            "method": "GET",
            "header": [{ "key": "Accept", "value": "application/json", "type": "text" }],
            "url": { "raw": "{{base_url}}/sales/reservations/{{reservation_id}}", "host": ["{{base_url}}"], "path": ["sales", "reservations", "{{reservation_id}}"] },
            "description": "Get single reservation details. Permission: sales.reservations.view. Returns full data: client, unit, status, voucher_url, dates."
          }
        },
        {
          "name": "Confirm Reservation",
          "request": {
            "method": "POST",
            "header": [{ "key": "Accept", "value": "application/json", "type": "text" }],
            "url": { "raw": "{{base_url}}/sales/reservations/{{reservation_id}}/confirm", "host": ["{{base_url}}"], "path": ["sales", "reservations", "{{reservation_id}}", "confirm"] },
            "description": "Confirm a reservation. Permission: sales.reservations.confirm."
          }
        },
        {
          "name": "Cancel Reservation",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Accept", "value": "application/json", "type": "text" },
              { "key": "Content-Type", "value": "application/json", "type": "text" }
            ],
            "body": { "mode": "raw", "raw": "{\n  \"cancellation_reason\": \"Optional reason\"\n}" },
            "url": { "raw": "{{base_url}}/sales/reservations/{{reservation_id}}/cancel", "host": ["{{base_url}}"], "path": ["sales", "reservations", "{{reservation_id}}", "cancel"] },
            "description": "Cancel a reservation. cancellation_reason optional."
          }
        },
        {
          "name": "Store Reservation Action",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Accept", "value": "application/json", "type": "text" },
              { "key": "Content-Type", "value": "application/json", "type": "text" }
            ],
            "body": { "mode": "raw", "raw": "{\n  \"action_type\": \"lead_acquisition\",\n  \"notes\": \"Optional notes\"\n}" },
            "url": { "raw": "{{base_url}}/sales/reservations/{{reservation_id}}/actions", "host": ["{{base_url}}"], "path": ["sales", "reservations", "{{reservation_id}}", "actions"] },
            "description": "Add action to reservation. action_type: lead_acquisition|persuasion|closing."
          }
        },
        {
          "name": "Download Reservation Voucher",
          "request": {
            "method": "GET",
            "header": [{ "key": "Accept", "value": "application/json", "type": "text" }],
            "url": { "raw": "{{base_url}}/sales/reservations/{{reservation_id}}/voucher", "host": ["{{base_url}}"], "path": ["sales", "reservations", "{{reservation_id}}", "voucher"] },
            "description": "Download voucher for reservation."
          }
        }
      ]
    },
    {
      "name": "05 - Targets",
      "item": [
        {
          "name": "Get My Targets",
          "request": {
            "method": "GET",
            "header": [{ "key": "Accept", "value": "application/json", "type": "text" }],
            "url": {
              "raw": "{{base_url}}/sales/targets/my?per_page=15&page=1",
              "host": ["{{base_url}}"],
              "path": ["sales", "targets", "my"],
              "query": [
                { "key": "per_page", "value": "15" },
                { "key": "page", "value": "1" },
                { "key": "from", "value": "", "description": "Start date Y-m-d" },
                { "key": "to", "value": "", "description": "End date Y-m-d" },
                { "key": "status", "value": "", "description": "new|in_progress|completed" }
              ]
            },
            "description": "Get current user's targets. Full query: from, to, status, per_page, page. Permission: sales.targets.view."
          }
        },
        {
          "name": "Get Target by ID",
          "request": {
            "method": "GET",
            "header": [{ "key": "Accept", "value": "application/json", "type": "text" }],
            "url": { "raw": "{{base_url}}/sales/targets/{{target_id}}", "host": ["{{base_url}}"], "path": ["sales", "targets", "{{target_id}}"] },
            "description": "Get single target details. Permission: sales.targets.view. Leader can view team members' targets."
          }
        },
        {
          "name": "Get Team Targets",
          "request": {
            "method": "GET",
            "header": [{ "key": "Accept", "value": "application/json", "type": "text" }],
            "url": {
              "raw": "{{base_url}}/sales/targets/team?per_page=15&page=1",
              "host": ["{{base_url}}"],
              "path": ["sales", "targets", "team"],
              "query": [
                { "key": "per_page", "value": "15" },
                { "key": "page", "value": "1" },
                { "key": "from", "value": "" },
                { "key": "to", "value": "" },
                { "key": "status", "value": "" },
                { "key": "marketer_id", "value": "{{user_id}}", "description": "Filter by team member" }
              ]
            },
            "description": "List targets for leader's team. Permission: sales.team.manage. Query: from, to, status, marketer_id, per_page, page."
          }
        },
        {
          "name": "Update Target",
          "request": {
            "method": "PATCH",
            "header": [
              { "key": "Accept", "value": "application/json", "type": "text" },
              { "key": "Content-Type", "value": "application/json", "type": "text" }
            ],
            "body": { "mode": "raw", "raw": "{\n  \"status\": \"in_progress\"\n}" },
            "url": { "raw": "{{base_url}}/sales/targets/{{target_id}}", "host": ["{{base_url}}"], "path": ["sales", "targets", "{{target_id}}"] },
            "description": "Update target status. status: new|in_progress|completed. Permission: sales.targets.update."
          }
        }
      ]
    },
    {
      "name": "06 - Attendance",
      "description": "Permission: sales.attendance.view",
      "item": [
        {
          "name": "Get My Attendance",
          "request": {
            "method": "GET",
            "header": [{ "key": "Accept", "value": "application/json", "type": "text" }],
            "url": {
              "raw": "{{base_url}}/sales/attendance/my",
              "host": ["{{base_url}}"],
              "path": ["sales", "attendance", "my"],
              "query": [
                { "key": "from", "value": "", "description": "Date from Y-m-d" },
                { "key": "to", "value": "", "description": "Date to Y-m-d" }
              ]
            },
            "description": "Get current user's attendance schedules. Full query: from, to. Permission: sales.attendance.view."
          }
        }
      ]
    },
    {
      "name": "07 - Assignments",
      "item": [
        {
          "name": "Get My Assignments",
          "request": {
            "method": "GET",
            "header": [{ "key": "Accept", "value": "application/json", "type": "text" }],
            "url": { "raw": "{{base_url}}/sales/assignments/my", "host": ["{{base_url}}"], "path": ["sales", "assignments", "my"] },
            "description": "Get my project assignments. Permission: sales.projects.view."
          }
        }
      ]
    },
    {
      "name": "08 - Team (Leader)",
      "description": "Sales leader only. Permissions: sales.team.manage, sales.tasks.manage",
      "item": [
        {
          "name": "Get Team Projects",
          "request": {
            "method": "GET",
            "header": [{ "key": "Accept", "value": "application/json", "type": "text" }],
            "url": { "raw": "{{base_url}}/sales/team/projects", "host": ["{{base_url}}"], "path": ["sales", "team", "projects"] },
            "description": "List projects assigned to leader's team."
          }
        },
        {
          "name": "Get Team Members",
          "request": {
            "method": "GET",
            "header": [{ "key": "Accept", "value": "application/json", "type": "text" }],
            "url": { "raw": "{{base_url}}/sales/team/members", "host": ["{{base_url}}"], "path": ["sales", "team", "members"] },
            "description": "List team members under the leader."
          }
        },
        {
          "name": "Update Project Emergency Contacts",
          "request": {
            "method": "PATCH",
            "header": [
              { "key": "Accept", "value": "application/json", "type": "text" },
              { "key": "Content-Type", "value": "application/json", "type": "text" }
            ],
            "body": { "mode": "raw", "raw": "{\n  \"emergency_contact_number\": \"+971501234567\",\n  \"security_guard_number\": \"+971509876543\"\n}" },
            "url": { "raw": "{{base_url}}/sales/projects/{{contract_id}}/emergency-contacts", "host": ["{{base_url}}"], "path": ["sales", "projects", "{{contract_id}}", "emergency-contacts"] },
            "description": "Update emergency contact and security guard numbers for a project."
          }
        },
        {
          "name": "Create Target (Leader)",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Accept", "value": "application/json", "type": "text" },
              { "key": "Content-Type", "value": "application/json", "type": "text" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"marketer_id\": {{user_id}},\n  \"contract_id\": {{contract_id}},\n  \"contract_unit_id\": null,\n  \"target_type\": \"reservation\",\n  \"start_date\": \"2025-02-01\",\n  \"end_date\": \"2025-02-28\",\n  \"leader_notes\": \"Optional notes\"\n}"
            },
            "url": { "raw": "{{base_url}}/sales/targets", "host": ["{{base_url}}"], "path": ["sales", "targets"] },
            "description": "Create target for a marketer. target_type: reservation|negotiation|closing."
          }
        },
        {
          "name": "Get Attendance Team",
          "request": {
            "method": "GET",
            "header": [{ "key": "Accept", "value": "application/json", "type": "text" }],
            "url": {
              "raw": "{{base_url}}/sales/attendance/team",
              "host": ["{{base_url}}"],
              "path": ["sales", "attendance", "team"],
              "query": [
                { "key": "from", "value": "" },
                { "key": "to", "value": "" },
                { "key": "contract_id", "value": "{{contract_id}}" },
                { "key": "user_id", "value": "{{user_id}}" }
              ]
            },
            "description": "Get team attendance (leader view). Full query: from, to, contract_id, user_id."
          }
        },
        {
          "name": "Create Attendance Schedule",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Accept", "value": "application/json", "type": "text" },
              { "key": "Content-Type", "value": "application/json", "type": "text" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"contract_id\": {{contract_id}},\n  \"user_id\": {{user_id}},\n  \"schedule_date\": \"2025-02-18\",\n  \"start_time\": \"09:00:00\",\n  \"end_time\": \"17:00:00\"\n}"
            },
            "url": { "raw": "{{base_url}}/sales/attendance/schedules", "host": ["{{base_url}}"], "path": ["sales", "attendance", "schedules"] },
            "description": "Create attendance schedule for a user on a project. Times in H:i:s."
          }
        },
        {
          "name": "Update Attendance Schedule",
          "request": {
            "method": "PATCH",
            "header": [
              { "key": "Accept", "value": "application/json", "type": "text" },
              { "key": "Content-Type", "value": "application/json", "type": "text" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"schedule_date\": \"2025-02-19\",\n  \"start_time\": \"10:00:00\",\n  \"end_time\": \"18:00:00\"\n}"
            },
            "url": { "raw": "{{base_url}}/sales/attendance/schedules/{{schedule_id}}", "host": ["{{base_url}}"], "path": ["sales", "attendance", "schedules", "{{schedule_id}}"] },
            "description": "Update attendance schedule. Optional: contract_id, user_id, schedule_date, start_time, end_time. Permission: sales.team.manage."
          }
        },
        {
          "name": "Delete Attendance Schedule",
          "request": {
            "method": "DELETE",
            "header": [{ "key": "Accept", "value": "application/json", "type": "text" }],
            "url": { "raw": "{{base_url}}/sales/attendance/schedules/{{schedule_id}}", "host": ["{{base_url}}"], "path": ["sales", "attendance", "schedules", "{{schedule_id}}"] },
            "description": "Delete an attendance schedule. Permission: sales.team.manage."
          }
        },
        {
          "name": "Get Tasks Projects",
          "request": {
            "method": "GET",
            "header": [{ "key": "Accept", "value": "application/json", "type": "text" }],
            "url": { "raw": "{{base_url}}/sales/tasks/projects", "host": ["{{base_url}}"], "path": ["sales", "tasks", "projects"] },
            "description": "List projects for marketing tasks. Permission: sales.tasks.manage."
          }
        },
        {
          "name": "Get Task Project by Contract",
          "request": {
            "method": "GET",
            "header": [{ "key": "Accept", "value": "application/json", "type": "text" }],
            "url": { "raw": "{{base_url}}/sales/tasks/projects/{{contract_id}}", "host": ["{{base_url}}"], "path": ["sales", "tasks", "projects", "{{contract_id}}"] },
            "description": "Get marketing tasks for a project."
          }
        },
        {
          "name": "List Marketing Tasks",
          "request": {
            "method": "GET",
            "header": [{ "key": "Accept", "value": "application/json", "type": "text" }],
            "url": {
              "raw": "{{base_url}}/sales/marketing-tasks?per_page=15&page=1",
              "host": ["{{base_url}}"],
              "path": ["sales", "marketing-tasks"],
              "query": [
                { "key": "per_page", "value": "15" },
                { "key": "page", "value": "1" },
                { "key": "status", "value": "", "description": "new|in_progress|completed" },
                { "key": "contract_id", "value": "{{contract_id}}" },
                { "key": "marketer_id", "value": "{{user_id}}" },
                { "key": "from", "value": "", "description": "Date Y-m-d" },
                { "key": "to", "value": "", "description": "Date Y-m-d" }
              ]
            },
            "description": "List marketing tasks for the current leader (created by them or for their projects). Query: status, contract_id, marketer_id, from, to, per_page. Permission: sales.tasks.manage."
          }
        },
        {
          "name": "Create Marketing Task",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Accept", "value": "application/json", "type": "text" },
              { "key": "Content-Type", "value": "application/json", "type": "text" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"contract_id\": {{contract_id}},\n  \"task_name\": \"Task name\",\n  \"marketer_id\": {{user_id}},\n  \"participating_marketers_count\": 2,\n  \"design_link\": \"https://example.com/design\",\n  \"design_number\": \"D-001\",\n  \"design_description\": \"Optional\"\n}"
            },
            "url": { "raw": "{{base_url}}/sales/marketing-tasks", "host": ["{{base_url}}"], "path": ["sales", "marketing-tasks"] },
            "description": "Create marketing task. design_link, design_number, design_description optional."
          }
        },
        {
          "name": "Update Marketing Task",
          "request": {
            "method": "PATCH",
            "header": [
              { "key": "Accept", "value": "application/json", "type": "text" },
              { "key": "Content-Type", "value": "application/json", "type": "text" }
            ],
            "body": { "mode": "raw", "raw": "{\n  \"status\": \"in_progress\"\n}" },
            "url": { "raw": "{{base_url}}/sales/marketing-tasks/{{task_id}}", "host": ["{{base_url}}"], "path": ["sales", "marketing-tasks", "{{task_id}}"] },
            "description": "Update marketing task status. status: new|in_progress|completed."
          }
        },
        {
          "name": "Get Marketing Task by ID",
          "request": {
            "method": "GET",
            "header": [{ "key": "Accept", "value": "application/json", "type": "text" }],
            "url": { "raw": "{{base_url}}/sales/marketing-tasks/{{task_id}}", "host": ["{{base_url}}"], "path": ["sales", "marketing-tasks", "{{task_id}}"] },
            "description": "Get single marketing task details. Permission: sales.tasks.manage."
          }
        },
        {
          "name": "Delete Marketing Task",
          "request": {
            "method": "DELETE",
            "header": [{ "key": "Accept", "value": "application/json", "type": "text" }],
            "url": { "raw": "{{base_url}}/sales/marketing-tasks/{{task_id}}", "host": ["{{base_url}}"], "path": ["sales", "marketing-tasks", "{{task_id}}"] },
            "description": "Delete a marketing task. Permission: sales.tasks.manage."
          }
        }
      ]
    },
    {
      "name": "09 - Waiting List",
      "item": [
        {
          "name": "List Waiting List",
          "request": {
            "method": "GET",
            "header": [{ "key": "Accept", "value": "application/json", "type": "text" }],
            "url": {
              "raw": "{{base_url}}/sales/waiting-list?per_page=15&page=1",
              "host": ["{{base_url}}"],
              "path": ["sales", "waiting-list"],
              "query": [
                { "key": "per_page", "value": "15" },
                { "key": "page", "value": "1" },
                { "key": "status", "value": "", "description": "waiting|cancelled|converted" },
                { "key": "sales_staff_id", "value": "{{user_id}}" },
                { "key": "contract_id", "value": "{{contract_id}}" },
                { "key": "contract_unit_id", "value": "{{contract_unit_id}}" },
                { "key": "active_only", "value": "true", "description": "Only active entries" }
              ]
            },
            "description": "List waiting list entries. Full query: status, sales_staff_id, contract_id, contract_unit_id, active_only, per_page, page. Permission: sales.waiting_list.create."
          }
        },
        {
          "name": "Get Waiting List by Unit",
          "request": {
            "method": "GET",
            "header": [{ "key": "Accept", "value": "application/json", "type": "text" }],
            "url": { "raw": "{{base_url}}/sales/waiting-list/unit/{{unit_id}}", "host": ["{{base_url}}"], "path": ["sales", "waiting-list", "unit", "{{unit_id}}"] },
            "description": "Get waiting list entries for a unit."
          }
        },
        {
          "name": "Get Waiting List Entry by ID",
          "request": {
            "method": "GET",
            "header": [{ "key": "Accept", "value": "application/json", "type": "text" }],
            "url": { "raw": "{{base_url}}/sales/waiting-list/{{waiting_list_id}}", "host": ["{{base_url}}"], "path": ["sales", "waiting-list", "{{waiting_list_id}}"] },
            "description": "Get single waiting list entry details. Permission: sales.waiting_list.create. Owner, leader or admin."
          }
        },
        {
          "name": "Create Waiting List Entry",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Accept", "value": "application/json", "type": "text" },
              { "key": "Content-Type", "value": "application/json", "type": "text" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"contract_id\": {{contract_id}},\n  \"contract_unit_id\": {{contract_unit_id}},\n  \"client_name\": \"Client Name\",\n  \"client_mobile\": \"+971501234567\",\n  \"client_email\": \"client@example.com\",\n  \"priority\": 5,\n  \"notes\": \"Optional notes\"\n}"
            },
            "url": { "raw": "{{base_url}}/sales/waiting-list", "host": ["{{base_url}}"], "path": ["sales", "waiting-list"] },
            "description": "Add to waiting list. priority 1-10 optional."
          }
        },
        {
          "name": "Convert Waiting List to Reservation",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Accept", "value": "application/json", "type": "text" },
              { "key": "Content-Type", "value": "application/json", "type": "text" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"contract_date\": \"2025-02-18\",\n  \"reservation_type\": \"confirmed_reservation\",\n  \"negotiation_notes\": null,\n  \"client_nationality\": \"UAE\",\n  \"client_iban\": \"AE070331234567890123456\",\n  \"payment_method\": \"bank_transfer\",\n  \"down_payment_amount\": 100000,\n  \"down_payment_status\": \"refundable\",\n  \"purchase_mechanism\": \"cash\"\n}"
            },
            "url": { "raw": "{{base_url}}/sales/waiting-list/{{waiting_list_id}}/convert", "host": ["{{base_url}}"], "path": ["sales", "waiting-list", "{{waiting_list_id}}", "convert"] },
            "description": "Convert waiting list entry to reservation. Permission: sales.waiting_list.convert."
          }
        },
        {
          "name": "Cancel Waiting List Entry",
          "request": {
            "method": "DELETE",
            "header": [{ "key": "Accept", "value": "application/json", "type": "text" }],
            "url": { "raw": "{{base_url}}/sales/waiting-list/{{waiting_list_id}}", "host": ["{{base_url}}"], "path": ["sales", "waiting-list", "{{waiting_list_id}}"] },
            "description": "Cancel/delete waiting list entry."
          }
        }
      ]
    },
    {
      "name": "10 - Negotiations",
      "description": "Permission: sales.negotiation.approve (manager only)",
      "item": [
        {
          "name": "Get Pending Negotiations",
          "request": {
            "method": "GET",
            "header": [{ "key": "Accept", "value": "application/json", "type": "text" }],
            "url": { "raw": "{{base_url}}/sales/negotiations/pending", "host": ["{{base_url}}"], "path": ["sales", "negotiations", "pending"] },
            "description": "List pending negotiations for approval."
          }
        },
        {
          "name": "Approve Negotiation",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Accept", "value": "application/json", "type": "text" },
              { "key": "Content-Type", "value": "application/json", "type": "text" }
            ],
            "body": { "mode": "raw", "raw": "{\n  \"notes\": \"Approved with notes\"\n}" },
            "url": { "raw": "{{base_url}}/sales/negotiations/{{negotiation_id}}/approve", "host": ["{{base_url}}"], "path": ["sales", "negotiations", "{{negotiation_id}}", "approve"] },
            "description": "Approve a negotiation. notes optional."
          }
        },
        {
          "name": "Reject Negotiation",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Accept", "value": "application/json", "type": "text" },
              { "key": "Content-Type", "value": "application/json", "type": "text" }
            ],
            "body": { "mode": "raw", "raw": "{\n  \"reason\": \"Rejection reason required\"\n}" },
            "url": { "raw": "{{base_url}}/sales/negotiations/{{negotiation_id}}/reject", "host": ["{{base_url}}"], "path": ["sales", "negotiations", "{{negotiation_id}}", "reject"] },
            "description": "Reject a negotiation. reason required."
          }
        }
      ]
    },
    {
      "name": "11 - Payment Plan",
      "description": "Permission: sales.payment-plan.manage. Off-plan projects.",
      "item": [
        {
          "name": "Get Payment Plan",
          "request": {
            "method": "GET",
            "header": [{ "key": "Accept", "value": "application/json", "type": "text" }],
            "url": { "raw": "{{base_url}}/sales/reservations/{{reservation_id}}/payment-plan", "host": ["{{base_url}}"], "path": ["sales", "reservations", "{{reservation_id}}", "payment-plan"] },
            "description": "Get payment plan for a reservation."
          }
        },
        {
          "name": "Create Payment Plan",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Accept", "value": "application/json", "type": "text" },
              { "key": "Content-Type", "value": "application/json", "type": "text" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"installments\": [\n    { \"due_date\": \"2025-03-18\", \"amount\": 50000, \"description\": \"Installment 1\" },\n    { \"due_date\": \"2025-04-18\", \"amount\": 50000, \"description\": \"Installment 2\" }\n  ]\n}"
            },
            "url": { "raw": "{{base_url}}/sales/reservations/{{reservation_id}}/payment-plan", "host": ["{{base_url}}"], "path": ["sales", "reservations", "{{reservation_id}}", "payment-plan"] },
            "description": "Create payment plan. installments: due_date (date), amount, description (optional)."
          }
        },
        {
          "name": "Update Payment Installment",
          "request": {
            "method": "PUT",
            "header": [
              { "key": "Accept", "value": "application/json", "type": "text" },
              { "key": "Content-Type", "value": "application/json", "type": "text" }
            ],
            "body": { "mode": "raw", "raw": "{\n  \"due_date\": \"2025-03-20\",\n  \"amount\": 55000,\n  \"description\": \"Updated\",\n  \"status\": \"pending\"\n}" },
            "url": { "raw": "{{base_url}}/sales/payment-installments/{{installment_id}}", "host": ["{{base_url}}"], "path": ["sales", "payment-installments", "{{installment_id}}"] },
            "description": "Update installment. due_date, amount, description, status (pending|paid|overdue) optional."
          }
        },
        {
          "name": "Delete Payment Installment",
          "request": {
            "method": "DELETE",
            "header": [{ "key": "Accept", "value": "application/json", "type": "text" }],
            "url": { "raw": "{{base_url}}/sales/payment-installments/{{installment_id}}", "host": ["{{base_url}}"], "path": ["sales", "payment-installments", "{{installment_id}}"] },
            "description": "Delete a payment installment."
          }
        }
      ]
    },
    {
      "name": "12 - Analytics",
      "description": "Sales analytics. Permission: sales.dashboard.view",
      "item": [
        {
          "name": "Get Analytics Dashboard",
          "request": {
            "method": "GET",
            "header": [{ "key": "Accept", "value": "application/json", "type": "text" }],
            "url": { "raw": "{{base_url}}/sales/analytics/dashboard", "host": ["{{base_url}}"], "path": ["sales", "analytics", "dashboard"] },
            "description": "Analytics dashboard."
          }
        },
        {
          "name": "Get Analytics Sold Units",
          "request": {
            "method": "GET",
            "header": [{ "key": "Accept", "value": "application/json", "type": "text" }],
            "url": { "raw": "{{base_url}}/sales/analytics/sold-units", "host": ["{{base_url}}"], "path": ["sales", "analytics", "sold-units"] },
            "description": "Sold units analytics."
          }
        },
        {
          "name": "Get Deposit Stats by Project",
          "request": {
            "method": "GET",
            "header": [{ "key": "Accept", "value": "application/json", "type": "text" }],
            "url": { "raw": "{{base_url}}/sales/analytics/deposits/stats/project/{{contract_id}}", "host": ["{{base_url}}"], "path": ["sales", "analytics", "deposits", "stats", "project", "{{contract_id}}"] },
            "description": "Deposit statistics for a project."
          }
        },
        {
          "name": "Get Commission Stats by Employee",
          "request": {
            "method": "GET",
            "header": [{ "key": "Accept", "value": "application/json", "type": "text" }],
            "url": { "raw": "{{base_url}}/sales/analytics/commissions/stats/employee/{{user_id}}", "host": ["{{base_url}}"], "path": ["sales", "analytics", "commissions", "stats", "employee", "{{user_id}}"] },
            "description": "Commission statistics for an employee."
          }
        },
        {
          "name": "Get Monthly Commission Report",
          "request": {
            "method": "GET",
            "header": [{ "key": "Accept", "value": "application/json", "type": "text" }],
            "url": { "raw": "{{base_url}}/sales/analytics/commissions/monthly-report", "host": ["{{base_url}}"], "path": ["sales", "analytics", "commissions", "monthly-report"] },
            "description": "Monthly commission report."
          }
        }
      ]
    },
    {
      "name": "13 - Commissions",
      "item": [
        {
          "name": "List Commissions",
          "request": {
            "method": "GET",
            "header": [{ "key": "Accept", "value": "application/json", "type": "text" }],
            "url": {
              "raw": "{{base_url}}/sales/commissions?per_page=15&page=1",
              "host": ["{{base_url}}"],
              "path": ["sales", "commissions"],
              "query": [
                { "key": "per_page", "value": "15" },
                { "key": "page", "value": "1" },
                { "key": "status", "value": "", "description": "Filter by status" }
              ]
            },
            "description": "List commissions. Full query: status, per_page, page. Roles: sales, sales_leader, admin, accountant. Data scoped by role."
          }
        },
        {
          "name": "Create Commission",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Accept", "value": "application/json", "type": "text" },
              { "key": "Content-Type", "value": "application/json", "type": "text" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"contract_unit_id\": {{contract_unit_id}},\n  \"sales_reservation_id\": {{sales_reservation_id}},\n  \"final_selling_price\": 1000000,\n  \"commission_percentage\": 2.5,\n  \"commission_source\": \"owner\",\n  \"team_responsible\": \"Sales Team A\"\n}"
            },
            "url": { "raw": "{{base_url}}/sales/commissions", "host": ["{{base_url}}"], "path": ["sales", "commissions"] },
            "description": "Create commission. commission_source: owner|buyer."
          }
        },
        {
          "name": "Get Commission",
          "request": {
            "method": "GET",
            "header": [{ "key": "Accept", "value": "application/json", "type": "text" }],
            "url": { "raw": "{{base_url}}/sales/commissions/{{commission_id}}", "host": ["{{base_url}}"], "path": ["sales", "commissions", "{{commission_id}}"] },
            "description": "Get commission details."
          }
        },
        {
          "name": "Update Commission Expenses",
          "request": {
            "method": "PUT",
            "header": [
              { "key": "Accept", "value": "application/json", "type": "text" },
              { "key": "Content-Type", "value": "application/json", "type": "text" }
            ],
            "body": { "mode": "raw", "raw": "{\n  \"marketing_expenses\": 5000,\n  \"bank_fees\": 500\n}" },
            "url": { "raw": "{{base_url}}/sales/commissions/{{commission_id}}/expenses", "host": ["{{base_url}}"], "path": ["sales", "commissions", "{{commission_id}}", "expenses"] },
            "description": "Update commission marketing_expenses and bank_fees."
          }
        },
        {
          "name": "Add Commission Distributions",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Accept", "value": "application/json", "type": "text" },
              { "key": "Content-Type", "value": "application/json", "type": "text" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"distributions\": [\n    { \"user_id\": 1, \"type\": \"lead_generation\", \"percentage\": 50 },\n    { \"user_id\": 2, \"type\": \"closing\", \"percentage\": 50 }\n  ]\n}"
            },
            "url": { "raw": "{{base_url}}/sales/commissions/{{commission_id}}/distributions", "host": ["{{base_url}}"], "path": ["sales", "commissions", "{{commission_id}}", "distributions"] },
            "description": "Add distributions. type: lead_generation, persuasion, closing, team_leader, sales_manager, project_manager, external_marketer, other. Total percentage must equal 100."
          }
        },
        {
          "name": "Distribute Lead Generation",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Accept", "value": "application/json", "type": "text" },
              { "key": "Content-Type", "value": "application/json", "type": "text" }
            ],
            "body": { "mode": "raw", "raw": "{\n  \"marketers\": [\n    { \"user_id\": {{user_id}}, \"percentage\": 100, \"bank_account\": null }\n  ]\n}" },
            "url": { "raw": "{{base_url}}/sales/commissions/{{commission_id}}/distribute/lead-generation", "host": ["{{base_url}}"], "path": ["sales", "commissions", "{{commission_id}}", "distribute", "lead-generation"] },
            "description": "Distribute lead generation share. marketers: user_id, percentage, bank_account (optional)."
          }
        },
        {
          "name": "Distribute Persuasion",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Accept", "value": "application/json", "type": "text" },
              { "key": "Content-Type", "value": "application/json", "type": "text" }
            ],
            "body": { "mode": "raw", "raw": "{\n  \"employees\": [\n    { \"user_id\": {{user_id}}, \"percentage\": 100, \"bank_account\": null }\n  ]\n}" },
            "url": { "raw": "{{base_url}}/sales/commissions/{{commission_id}}/distribute/persuasion", "host": ["{{base_url}}"], "path": ["sales", "commissions", "{{commission_id}}", "distribute", "persuasion"] },
            "description": "Distribute persuasion share. employees: user_id, percentage, bank_account (optional)."
          }
        },
        {
          "name": "Distribute Closing",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Accept", "value": "application/json", "type": "text" },
              { "key": "Content-Type", "value": "application/json", "type": "text" }
            ],
            "body": { "mode": "raw", "raw": "{\n  \"closers\": [\n    { \"user_id\": {{user_id}}, \"percentage\": 100, \"bank_account\": null }\n  ]\n}" },
            "url": { "raw": "{{base_url}}/sales/commissions/{{commission_id}}/distribute/closing", "host": ["{{base_url}}"], "path": ["sales", "commissions", "{{commission_id}}", "distribute", "closing"] },
            "description": "Distribute closing share. closers: user_id, percentage, bank_account (optional)."
          }
        },
        {
          "name": "Distribute Management",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Accept", "value": "application/json", "type": "text" },
              { "key": "Content-Type", "value": "application/json", "type": "text" }
            ],
            "body": { "mode": "raw", "raw": "{\n  \"management\": [\n    { \"type\": \"team_leader\", \"percentage\": 50, \"user_id\": {{user_id}} },\n    { \"type\": \"sales_manager\", \"percentage\": 50, \"user_id\": {{user_id}} }\n  ]\n}" },
            "url": { "raw": "{{base_url}}/sales/commissions/{{commission_id}}/distribute/management", "host": ["{{base_url}}"], "path": ["sales", "commissions", "{{commission_id}}", "distribute", "management"] },
            "description": "Distribute management share. type: team_leader, sales_manager, project_manager, external_marketer, other."
          }
        },
        {
          "name": "Approve Commission",
          "request": {
            "method": "POST",
            "header": [{ "key": "Accept", "value": "application/json", "type": "text" }],
            "url": { "raw": "{{base_url}}/sales/commissions/{{commission_id}}/approve", "host": ["{{base_url}}"], "path": ["sales", "commissions", "{{commission_id}}", "approve"] },
            "description": "Approve entire commission."
          }
        },
        {
          "name": "Mark Commission Paid",
          "request": {
            "method": "POST",
            "header": [{ "key": "Accept", "value": "application/json", "type": "text" }],
            "url": { "raw": "{{base_url}}/sales/commissions/{{commission_id}}/mark-paid", "host": ["{{base_url}}"], "path": ["sales", "commissions", "{{commission_id}}", "mark-paid"] },
            "description": "Mark commission as paid."
          }
        },
        {
          "name": "Get Commission Summary",
          "request": {
            "method": "GET",
            "header": [{ "key": "Accept", "value": "application/json", "type": "text" }],
            "url": { "raw": "{{base_url}}/sales/commissions/{{commission_id}}/summary", "host": ["{{base_url}}"], "path": ["sales", "commissions", "{{commission_id}}", "summary"] },
            "description": "Get commission summary."
          }
        },
        {
          "name": "Update Distribution",
          "request": {
            "method": "PUT",
            "header": [
              { "key": "Accept", "value": "application/json", "type": "text" },
              { "key": "Content-Type", "value": "application/json", "type": "text" }
            ],
            "body": { "mode": "raw", "raw": "{\n  \"percentage\": 60\n}" },
            "url": { "raw": "{{base_url}}/sales/commissions/distributions/{{distribution_id}}", "host": ["{{base_url}}"], "path": ["sales", "commissions", "distributions", "{{distribution_id}}"] },
            "description": "Update distribution percentage."
          }
        },
        {
          "name": "Delete Distribution",
          "request": {
            "method": "DELETE",
            "header": [{ "key": "Accept", "value": "application/json", "type": "text" }],
            "url": { "raw": "{{base_url}}/sales/commissions/distributions/{{distribution_id}}", "host": ["{{base_url}}"], "path": ["sales", "commissions", "distributions", "{{distribution_id}}"] },
            "description": "Delete a commission distribution."
          }
        },
        {
          "name": "Approve Distribution",
          "request": {
            "method": "POST",
            "header": [{ "key": "Accept", "value": "application/json", "type": "text" }],
            "url": { "raw": "{{base_url}}/sales/commissions/distributions/{{distribution_id}}/approve", "host": ["{{base_url}}"], "path": ["sales", "commissions", "distributions", "{{distribution_id}}", "approve"] },
            "description": "Approve a commission distribution."
          }
        },
        {
          "name": "Reject Distribution",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Accept", "value": "application/json", "type": "text" },
              { "key": "Content-Type", "value": "application/json", "type": "text" }
            ],
            "body": { "mode": "raw", "raw": "{\n  \"notes\": \"Rejection notes\"\n}" },
            "url": { "raw": "{{base_url}}/sales/commissions/distributions/{{distribution_id}}/reject", "host": ["{{base_url}}"], "path": ["sales", "commissions", "distributions", "{{distribution_id}}", "reject"] },
            "description": "Reject a commission distribution. notes optional."
          }
        }
      ]
    },
    {
      "name": "14 - Deposits",
      "item": [
        {
          "name": "List Deposits",
          "request": {
            "method": "GET",
            "header": [{ "key": "Accept", "value": "application/json", "type": "text" }],
            "url": {
              "raw": "{{base_url}}/sales/deposits?per_page=15&page=1",
              "host": ["{{base_url}}"],
              "path": ["sales", "deposits"],
              "query": [
                { "key": "per_page", "value": "15" },
                { "key": "page", "value": "1" },
                { "key": "status", "value": "", "description": "pending|received|refunded|confirmed" },
                { "key": "from", "value": "", "description": "Date from Y-m-d" },
                { "key": "to", "value": "", "description": "Date to Y-m-d" }
              ]
            },
            "description": "List deposits. Full query: status, from, to, per_page, page. Roles: sales, sales_leader, admin, accountant. Data scoped by role."
          }
        },
        {
          "name": "Create Deposit",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Accept", "value": "application/json", "type": "text" },
              { "key": "Content-Type", "value": "application/json", "type": "text" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"sales_reservation_id\": {{sales_reservation_id}},\n  \"contract_id\": {{contract_id}},\n  \"contract_unit_id\": {{contract_unit_id}},\n  \"amount\": 50000,\n  \"payment_method\": \"bank_transfer\",\n  \"client_name\": \"Client Name\",\n  \"payment_date\": \"2025-02-18\",\n  \"commission_source\": \"owner\",\n  \"notes\": \"Optional\"\n}"
            },
            "url": { "raw": "{{base_url}}/sales/deposits", "host": ["{{base_url}}"], "path": ["sales", "deposits"] },
            "description": "Create deposit. payment_method: bank_transfer|cash|bank_financing. commission_source: owner|buyer."
          }
        },
        {
          "name": "Get Deposits Legacy Follow-up",
          "request": {
            "method": "GET",
            "header": [{ "key": "Accept", "value": "application/json", "type": "text" }],
            "url": { "raw": "{{base_url}}/sales/deposits/legacy-follow-up", "host": ["{{base_url}}"], "path": ["sales", "deposits", "legacy-follow-up"] },
            "description": "Legacy follow-up endpoint."
          }
        },
        {
          "name": "Get Deposit",
          "request": {
            "method": "GET",
            "header": [{ "key": "Accept", "value": "application/json", "type": "text" }],
            "url": { "raw": "{{base_url}}/sales/deposits/{{deposit_id}}", "host": ["{{base_url}}"], "path": ["sales", "deposits", "{{deposit_id}}"] },
            "description": "Get deposit details."
          }
        },
        {
          "name": "Update Deposit",
          "request": {
            "method": "PUT",
            "header": [
              { "key": "Accept", "value": "application/json", "type": "text" },
              { "key": "Content-Type", "value": "application/json", "type": "text" }
            ],
            "body": { "mode": "raw", "raw": "{\n  \"amount\": 55000,\n  \"payment_method\": \"bank_transfer\",\n  \"client_name\": \"Client Name\"\n}" },
            "url": { "raw": "{{base_url}}/sales/deposits/{{deposit_id}}", "host": ["{{base_url}}"], "path": ["sales", "deposits", "{{deposit_id}}"] },
            "description": "Update deposit. amount, payment_method, client_name optional."
          }
        },
        {
          "name": "Confirm Deposit Receipt",
          "request": {
            "method": "POST",
            "header": [{ "key": "Accept", "value": "application/json", "type": "text" }],
            "url": { "raw": "{{base_url}}/sales/deposits/{{deposit_id}}/confirm-receipt", "host": ["{{base_url}}"], "path": ["sales", "deposits", "{{deposit_id}}", "confirm-receipt"] },
            "description": "Confirm deposit receipt."
          }
        },
        {
          "name": "Mark Deposit Received",
          "request": {
            "method": "POST",
            "header": [{ "key": "Accept", "value": "application/json", "type": "text" }],
            "url": { "raw": "{{base_url}}/sales/deposits/{{deposit_id}}/mark-received", "host": ["{{base_url}}"], "path": ["sales", "deposits", "{{deposit_id}}", "mark-received"] },
            "description": "Mark deposit as received."
          }
        },
        {
          "name": "Refund Deposit",
          "request": {
            "method": "POST",
            "header": [{ "key": "Accept", "value": "application/json", "type": "text" }],
            "url": { "raw": "{{base_url}}/sales/deposits/{{deposit_id}}/refund", "host": ["{{base_url}}"], "path": ["sales", "deposits", "{{deposit_id}}", "refund"] },
            "description": "Refund a deposit."
          }
        },
        {
          "name": "Generate Deposit Claim",
          "request": {
            "method": "POST",
            "header": [{ "key": "Accept", "value": "application/json", "type": "text" }],
            "url": { "raw": "{{base_url}}/sales/deposits/{{deposit_id}}/generate-claim", "host": ["{{base_url}}"], "path": ["sales", "deposits", "{{deposit_id}}", "generate-claim"] },
            "description": "Generate claim file for deposit."
          }
        },
        {
          "name": "Get Can Refund",
          "request": {
            "method": "GET",
            "header": [{ "key": "Accept", "value": "application/json", "type": "text" }],
            "url": { "raw": "{{base_url}}/sales/deposits/{{deposit_id}}/can-refund", "host": ["{{base_url}}"], "path": ["sales", "deposits", "{{deposit_id}}", "can-refund"] },
            "description": "Check if deposit can be refunded."
          }
        },
        {
          "name": "Delete Deposit",
          "request": {
            "method": "DELETE",
            "header": [{ "key": "Accept", "value": "application/json", "type": "text" }],
            "url": { "raw": "{{base_url}}/sales/deposits/{{deposit_id}}", "host": ["{{base_url}}"], "path": ["sales", "deposits", "{{deposit_id}}"] },
            "description": "Delete a deposit."
          }
        },
        {
          "name": "Bulk Confirm Deposits",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Accept", "value": "application/json", "type": "text" },
              { "key": "Content-Type", "value": "application/json", "type": "text" }
            ],
            "body": { "mode": "raw", "raw": "{\n  \"deposit_ids\": [1, 2, 3]\n}" },
            "url": { "raw": "{{base_url}}/sales/deposits/bulk-confirm", "host": ["{{base_url}}"], "path": ["sales", "deposits", "bulk-confirm"] },
            "description": "Bulk confirm deposits. Body: deposit_ids array."
          }
        },
        {
          "name": "Get Deposit Stats by Project",
          "request": {
            "method": "GET",
            "header": [{ "key": "Accept", "value": "application/json", "type": "text" }],
            "url": { "raw": "{{base_url}}/sales/deposits/stats/project/{{contract_id}}", "host": ["{{base_url}}"], "path": ["sales", "deposits", "stats", "project", "{{contract_id}}"] },
            "description": "Deposit stats for a project."
          }
        },
        {
          "name": "Get Deposits by Reservation",
          "request": {
            "method": "GET",
            "header": [{ "key": "Accept", "value": "application/json", "type": "text" }],
            "url": { "raw": "{{base_url}}/sales/deposits/by-reservation/{{sales_reservation_id}}", "host": ["{{base_url}}"], "path": ["sales", "deposits", "by-reservation", "{{sales_reservation_id}}"] },
            "description": "List deposits for a sales reservation."
          }
        },
        {
          "name": "Get Refundable Deposits by Project",
          "request": {
            "method": "GET",
            "header": [{ "key": "Accept", "value": "application/json", "type": "text" }],
            "url": { "raw": "{{base_url}}/sales/deposits/refundable/project/{{contract_id}}", "host": ["{{base_url}}"], "path": ["sales", "deposits", "refundable", "project", "{{contract_id}}"] },
            "description": "List refundable deposits for a project."
          }
        }
      ]
    }
  ]
}
