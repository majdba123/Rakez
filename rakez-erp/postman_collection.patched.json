{
  "info": {
    "_postman_id": "frontend-full-collection",
    "name": "Rakez ERP - Frontend API (Full)",
    "description": "Full API collection for frontend teams (all modules) based on routes/api.php.",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Auth & Session",
      "item": [
        {
          "name": "Login",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/login",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "login"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"admin@rakez.com\",\n  \"password\": \"password\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "auth": {
            "type": "noauth"
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "let body;",
                  "try { body = pm.response.json(); } catch (e) { body = null; }",
                  "if (!body) return;",
                  "const data = body.data ?? body;",
                  "const token = (data && (data.token || data.access_token)) || body.token || body.access_token;",
                  "if (token) {",
                  "  pm.environment.set('token', token);",
                  "  pm.environment.set('active_token', token);",
                  "}"
                ]
              }
            }
          ]
        },
        {
          "name": "Get Current User",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/user",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "user"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Logout",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/logout",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "logout"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": []
        },
        {
          "name": "Broadcasting Auth",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/broadcasting/auth",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "broadcasting",
                "auth"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"channel_name\": \"private-notifications.1\",\n  \"socket_id\": \"123.456\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Contracts",
      "item": [
        {
          "name": "List My Contracts",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/contracts/index",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "contracts",
                "index"
              ],
              "query": [
                {
                  "key": "status",
                  "value": "pending"
                },
                {
                  "key": "page",
                  "value": "1"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Create Contract",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/contracts/store",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "contracts",
                "store"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"developer_name\": \"Rakez Development\",\n  \"developer_number\": \"DEV-2026-001\",\n  \"city\": \"Riyadh\",\n  \"district\": \"Al Olaya\",\n  \"project_name\": \"Rakez Tower\",\n  \"developer_requiment\": \"Marketing and sales support\",\n  \"notes\": \"Initial submission\",\n  \"units\": [\n    {\n      \"type\": \"Apartment\",\n      \"count\": 10,\n      \"price\": 750000\n    },\n    {\n      \"type\": \"Villa\",\n      \"count\": 5,\n      \"price\": 1800000\n    }\n  ]\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "let body;",
                  "try { body = pm.response.json(); } catch (e) { body = null; }",
                  "if (!body) return;",
                  "const data = body.data ?? body;",
                  "const envKey = 'contract_id';",
                  "const id = (data && (data.id ?? data[envKey])) ?? body[envKey];",
                  "if (id) { pm.environment.set(envKey, id); }"
                ]
              }
            }
          ]
        },
        {
          "name": "Show Contract",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/contracts/show/{{contract_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "contracts",
                "show",
                "{{contract_id}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Update Contract",
          "request": {
            "method": "PUT",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/contracts/update/{{contract_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "contracts",
                "update",
                "{{contract_id}}"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"project_name\": \"Rakez Tower - Phase 2\",\n  \"developer_requiment\": \"Updated requirements\",\n  \"notes\": \"Revision\",\n  \"units\": [\n    {\n      \"type\": \"Apartment\",\n      \"count\": 12,\n      \"price\": 780000\n    },\n    {\n      \"type\": \"Villa\",\n      \"count\": 6,\n      \"price\": 1850000\n    }\n  ]\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": []
        },
        {
          "name": "Delete Contract",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/contracts/{{contract_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "contracts",
                "{{contract_id}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Store Contract Info",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/contracts/store/info/{{contract_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "contracts",
                "store",
                "info",
                "{{contract_id}}"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"gregorian_date\": \"2026-02-01\",\n  \"hijri_date\": \"1447-07-12\",\n  \"contract_city\": \"Riyadh\",\n  \"lat\": 24.7136,\n  \"lng\": 46.6753,\n  \"agreement_duration_days\": 365,\n  \"commission_percent\": 2.5,\n  \"commission_from\": \"owner\",\n  \"agency_number\": \"AG-2026-001\",\n  \"agency_date\": \"2026-02-01\",\n  \"avg_property_value\": 1200000,\n  \"release_date\": \"2026-06-01\",\n  \"second_party_name\": \"Example Developer LLC\",\n  \"second_party_address\": \"Riyadh, KSA\",\n  \"second_party_cr_number\": \"1010650301\",\n  \"second_party_signatory\": \"Ahmed Ali\",\n  \"second_party_id_number\": \"1234567890\",\n  \"second_party_role\": \"Owner\",\n  \"second_party_phone\": \"0501234567\",\n  \"second_party_email\": \"owner@example.com\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Project Management",
      "item": [
        {
          "name": "Contracts Admin Index",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/contracts/admin-index",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "contracts",
                "admin-index"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Contracts Update Status",
          "request": {
            "method": "PATCH",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/contracts/update-status/{{contract_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "contracts",
                "update-status",
                "{{contract_id}}"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"approved\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": []
        },
        {
          "name": "Second Party Show",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/second-party-data/show/{{contract_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "second-party-data",
                "show",
                "{{contract_id}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Second Party Store",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/second-party-data/store/{{contract_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "second-party-data",
                "store",
                "{{contract_id}}"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"real_estate_papers_url\": \"https://example.com/papers.pdf\",\n  \"plans_equipment_docs_url\": \"https://example.com/plans.pdf\",\n  \"project_logo_url\": \"https://example.com/logo.png\",\n  \"prices_units_url\": \"https://example.com/prices.pdf\",\n  \"marketing_license_url\": \"https://example.com/license.pdf\",\n  \"advertiser_section_url\": \"123456789\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": []
        },
        {
          "name": "Second Party Update",
          "request": {
            "method": "PUT",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/second-party-data/update/{{contract_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "second-party-data",
                "update",
                "{{contract_id}}"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"real_estate_papers_url\": \"https://example.com/papers.pdf\",\n  \"plans_equipment_docs_url\": \"https://example.com/plans.pdf\",\n  \"project_logo_url\": \"https://example.com/logo.png\",\n  \"prices_units_url\": \"https://example.com/prices.pdf\",\n  \"marketing_license_url\": \"https://example.com/license.pdf\",\n  \"advertiser_section_url\": \"123456789\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": []
        },
        {
          "name": "Second Parties",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/second-party-data/second-parties",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "second-party-data",
                "second-parties"
              ],
              "query": [
                {
                  "key": "per_page",
                  "value": "15"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Contracts By Email",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/second-party-data/contracts-by-email",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "second-party-data",
                "contracts-by-email"
              ],
              "query": [
                {
                  "key": "email",
                  "value": "owner@example.com"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Units By Contract",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/contracts/units/show/{{contract_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "contracts",
                "units",
                "show",
                "{{contract_id}}"
              ],
              "query": [
                {
                  "key": "per_page",
                  "value": "15"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Units Upload CSV",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/contracts/units/upload-csv/{{contract_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "contracts",
                "units",
                "upload-csv",
                "{{contract_id}}"
              ]
            },
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "csv_file",
                  "type": "file",
                  "src": ""
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Units Store",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/contracts/units/store/{{contract_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "contracts",
                "units",
                "store",
                "{{contract_id}}"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"unit_type\": \"Apartment\",\n  \"unit_number\": \"A-101\",\n  \"status\": \"available\",\n  \"price\": 750000,\n  \"area\": \"120 sqm\",\n  \"description\": \"Two bedroom apartment\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": []
        },
        {
          "name": "Units Update",
          "request": {
            "method": "PUT",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/contracts/units/update/{{unit_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "contracts",
                "units",
                "update",
                "{{unit_id}}"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"reserved\",\n  \"price\": 760000,\n  \"description\": \"Reserved unit\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": []
        },
        {
          "name": "Units Delete",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/contracts/units/delete/{{unit_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "contracts",
                "units",
                "delete",
                "{{unit_id}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Boards Show",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/boards-department/show/{{contract_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "boards-department",
                "show",
                "{{contract_id}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Boards Store",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/boards-department/store/{{contract_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "boards-department",
                "store",
                "{{contract_id}}"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"has_ads\": true\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": []
        },
        {
          "name": "Boards Update",
          "request": {
            "method": "PUT",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/boards-department/update/{{contract_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "boards-department",
                "update",
                "{{contract_id}}"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"has_ads\": true\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": []
        },
        {
          "name": "Photography Show",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/photography-department/show/{{contract_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "photography-department",
                "show",
                "{{contract_id}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Photography Store",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/photography-department/store/{{contract_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "photography-department",
                "store",
                "{{contract_id}}"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"image_url\": \"https://example.com/photo.jpg\",\n  \"video_url\": \"https://example.com/video.mp4\",\n  \"description\": \"Project media\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": []
        },
        {
          "name": "Photography Update",
          "request": {
            "method": "PUT",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/photography-department/update/{{contract_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "photography-department",
                "update",
                "{{contract_id}}"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"image_url\": \"https://example.com/photo.jpg\",\n  \"video_url\": \"https://example.com/video.mp4\",\n  \"description\": \"Project media\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": []
        },
        {
          "name": "PM Dashboard",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/project_management/dashboard",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "project_management",
                "dashboard"
              ]
            }
          },
          "response": []
        },
        {
          "name": "PM Units Statistics",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/project_management/dashboard/units-statistics",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "project_management",
                "dashboard",
                "units-statistics"
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Editor",
      "item": [
        {
          "name": "Editor Contracts Index",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/editor/contracts/index",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "editor",
                "contracts",
                "index"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Editor Contracts Show",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/editor/contracts/show/{{contract_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "editor",
                "contracts",
                "show",
                "{{contract_id}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Montage Show",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/editor/montage-department/show/{{contract_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "editor",
                "montage-department",
                "show",
                "{{contract_id}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Montage Store",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/editor/montage-department/store/{{contract_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "editor",
                "montage-department",
                "store",
                "{{contract_id}}"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"image_url\": \"https://example.com/montage.jpg\",\n  \"video_url\": \"https://example.com/montage.mp4\",\n  \"description\": \"Montage media\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": []
        },
        {
          "name": "Montage Update",
          "request": {
            "method": "PUT",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/editor/montage-department/update/{{contract_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "editor",
                "montage-department",
                "update",
                "{{contract_id}}"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"image_url\": \"https://example.com/montage.jpg\",\n  \"video_url\": \"https://example.com/montage.mp4\",\n  \"description\": \"Montage media\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Sales",
      "item": [
        {
          "name": "Sales Dashboard",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/sales/dashboard",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "sales",
                "dashboard"
              ],
              "query": [
                {
                  "key": "scope",
                  "value": "me"
                },
                {
                  "key": "from",
                  "value": "2026-02-01"
                },
                {
                  "key": "to",
                  "value": "2026-02-28"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Sales Projects",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/sales/projects",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "sales",
                "projects"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Sales Project Show",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/sales/projects/{{contract_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "sales",
                "projects",
                "{{contract_id}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Sales Project Units",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/sales/projects/{{contract_id}}/units",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "sales",
                "projects",
                "{{contract_id}}",
                "units"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Reservation Context",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/sales/units/{{unit_id}}/reservation-context",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "sales",
                "units",
                "{{unit_id}}",
                "reservation-context"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Reservation Create",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/sales/reservations",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "sales",
                "reservations"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"contract_id\": \"{{contract_id}}\",\n  \"contract_unit_id\": \"{{contract_unit_id}}\",\n  \"contract_date\": \"2026-02-01\",\n  \"reservation_type\": \"negotiation\",\n  \"negotiation_notes\": \"Client requested discount\",\n  \"client_name\": \"John Doe\",\n  \"client_mobile\": \"0500000000\",\n  \"client_nationality\": \"Saudi\",\n  \"client_iban\": \"SA0000000000000000000000\",\n  \"payment_method\": \"bank_transfer\",\n  \"down_payment_amount\": 5000,\n  \"down_payment_status\": \"refundable\",\n  \"purchase_mechanism\": \"cash\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "let body;",
                  "try { body = pm.response.json(); } catch (e) { body = null; }",
                  "if (!body) return;",
                  "const data = body.data ?? body;",
                  "const envKey = 'reservation_id';",
                  "const id = (data && (data.id ?? data[envKey])) ?? body[envKey];",
                  "if (id) { pm.environment.set(envKey, id); }"
                ]
              }
            }
          ]
        },
        {
          "name": "Reservation List",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/sales/reservations",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "sales",
                "reservations"
              ],
              "query": [
                {
                  "key": "per_page",
                  "value": "15"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Reservation Confirm",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/sales/reservations/{{reservation_id}}/confirm",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "sales",
                "reservations",
                "{{reservation_id}}",
                "confirm"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Reservation Cancel",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/sales/reservations/{{reservation_id}}/cancel",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "sales",
                "reservations",
                "{{reservation_id}}",
                "cancel"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"cancellation_reason\": \"Client changed mind\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": []
        },
        {
          "name": "Reservation Actions",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/sales/reservations/{{reservation_id}}/actions",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "sales",
                "reservations",
                "{{reservation_id}}",
                "actions"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"action_type\": \"lead_acquisition\",\n  \"notes\": \"Called client\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": []
        },
        {
          "name": "Reservation Voucher",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/sales/reservations/{{reservation_id}}/voucher",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "sales",
                "reservations",
                "{{reservation_id}}",
                "voucher"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Targets My",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/sales/targets/my",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "sales",
                "targets",
                "my"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Targets Update",
          "request": {
            "method": "PATCH",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/sales/targets/{{target_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "sales",
                "targets",
                "{{target_id}}"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"in_progress\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": []
        },
        {
          "name": "Targets Create",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/sales/targets",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "sales",
                "targets"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"marketer_id\": \"{{user_id}}\",\n  \"contract_id\": \"{{contract_id}}\",\n  \"contract_unit_id\": \"{{contract_unit_id}}\",\n  \"target_type\": \"reservation\",\n  \"start_date\": \"2026-02-01\",\n  \"end_date\": \"2026-02-28\",\n  \"leader_notes\": \"Monthly target\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": []
        },
        {
          "name": "Attendance My",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/sales/attendance/my",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "sales",
                "attendance",
                "my"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Attendance Team",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/sales/attendance/team",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "sales",
                "attendance",
                "team"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Attendance Schedule",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/sales/attendance/schedules",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "sales",
                "attendance",
                "schedules"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"contract_id\": \"{{contract_id}}\",\n  \"user_id\": \"{{user_id}}\",\n  \"schedule_date\": \"2026-02-03\",\n  \"start_time\": \"09:00:00\",\n  \"end_time\": \"17:00:00\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": []
        },
        {
          "name": "Team Projects",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/sales/team/projects",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "sales",
                "team",
                "projects"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Team Members",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/sales/team/members",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "sales",
                "team",
                "members"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Emergency Contacts",
          "request": {
            "method": "PATCH",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/sales/projects/{{contract_id}}/emergency-contacts",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "sales",
                "projects",
                "{{contract_id}}",
                "emergency-contacts"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"emergency_contact_number\": \"0501234567\",\n  \"security_guard_number\": \"0507654321\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": []
        },
        {
          "name": "Task Projects",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/sales/tasks/projects",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "sales",
                "tasks",
                "projects"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Project Tasks",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/sales/tasks/projects/{{contract_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "sales",
                "tasks",
                "projects",
                "{{contract_id}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Create Marketing Task",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/sales/marketing-tasks",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "sales",
                "marketing-tasks"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"contract_id\": \"{{contract_id}}\",\n  \"task_name\": \"Social Media Campaign\",\n  \"marketer_id\": \"{{user_id}}\",\n  \"participating_marketers_count\": 3,\n  \"design_link\": \"https://example.com/design\",\n  \"design_number\": \"D-2026-001\",\n  \"design_description\": \"Instagram creatives\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "let body;",
                  "try { body = pm.response.json(); } catch (e) { body = null; }",
                  "if (!body) return;",
                  "const data = body.data ?? body;",
                  "const envKey = 'task_id';",
                  "const id = (data && (data.id ?? data[envKey])) ?? body[envKey];",
                  "if (id) { pm.environment.set(envKey, id); }"
                ]
              }
            }
          ]
        },
        {
          "name": "Update Marketing Task",
          "request": {
            "method": "PATCH",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/sales/marketing-tasks/{{task_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "sales",
                "marketing-tasks",
                "{{task_id}}"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"completed\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": []
        },
        {
          "name": "Waiting List",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/sales/waiting-list",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "sales",
                "waiting-list"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Waiting List By Unit",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/sales/waiting-list/unit/{{unit_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "sales",
                "waiting-list",
                "unit",
                "{{unit_id}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Waiting List Create",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/sales/waiting-list",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "sales",
                "waiting-list"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"contract_id\": \"{{contract_id}}\",\n  \"contract_unit_id\": \"{{contract_unit_id}}\",\n  \"client_name\": \"Sara Ali\",\n  \"client_mobile\": \"0501111111\",\n  \"client_email\": \"sara@example.com\",\n  \"priority\": 5,\n  \"notes\": \"Wants floor 5\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "let body;",
                  "try { body = pm.response.json(); } catch (e) { body = null; }",
                  "if (!body) return;",
                  "const data = body.data ?? body;",
                  "const envKey = 'waiting_id';",
                  "const id = (data && (data.id ?? data[envKey])) ?? body[envKey];",
                  "if (id) { pm.environment.set(envKey, id); }"
                ]
              }
            }
          ]
        },
        {
          "name": "Waiting List Convert",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/sales/waiting-list/{{waiting_id}}/convert",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "sales",
                "waiting-list",
                "{{waiting_id}}",
                "convert"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"contract_date\": \"2026-02-05\",\n  \"reservation_type\": \"confirmed_reservation\",\n  \"negotiation_notes\": null,\n  \"client_nationality\": \"Saudi\",\n  \"client_iban\": \"SA0000000000000000000001\",\n  \"payment_method\": \"cash\",\n  \"down_payment_amount\": 10000,\n  \"down_payment_status\": \"non_refundable\",\n  \"purchase_mechanism\": \"cash\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": []
        },
        {
          "name": "Waiting List Cancel",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/sales/waiting-list/{{waiting_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "sales",
                "waiting-list",
                "{{waiting_id}}"
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Admin",
      "item": [
        {
          "name": "Employees Roles",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/admin/employees/roles",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "admin",
                "employees",
                "roles"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Employees Add",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/admin/employees/add_employee",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "admin",
                "employees",
                "add_employee"
              ]
            },
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "name",
                  "value": "New Employee",
                  "type": "text"
                },
                {
                  "key": "email",
                  "value": "employee@example.com",
                  "type": "text"
                },
                {
                  "key": "phone",
                  "value": "0502222222",
                  "type": "text"
                },
                {
                  "key": "password",
                  "value": "password123",
                  "type": "text"
                },
                {
                  "key": "type",
                  "value": "2",
                  "type": "text"
                },
                {
                  "key": "role",
                  "value": "sales",
                  "type": "text"
                },
                {
                  "key": "is_manager",
                  "value": "false",
                  "type": "text"
                },
                {
                  "key": "team",
                  "value": "1",
                  "type": "text"
                },
                {
                  "key": "identity_number",
                  "value": "1234567890",
                  "type": "text"
                },
                {
                  "key": "birthday",
                  "value": "1990-01-01",
                  "type": "text"
                },
                {
                  "key": "date_of_works",
                  "value": "2026-01-15",
                  "type": "text"
                },
                {
                  "key": "contract_type",
                  "value": "full_time",
                  "type": "text"
                },
                {
                  "key": "iban",
                  "value": "SA0000000000000000000002",
                  "type": "text"
                },
                {
                  "key": "salary",
                  "value": "8000",
                  "type": "text"
                },
                {
                  "key": "marital_status",
                  "value": "single",
                  "type": "text"
                },
                {
                  "key": "cv",
                  "type": "file",
                  "src": ""
                },
                {
                  "key": "contract",
                  "type": "file",
                  "src": ""
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Employees List",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/admin/employees/list_employees",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "admin",
                "employees",
                "list_employees"
              ],
              "query": [
                {
                  "key": "per_page",
                  "value": "15"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Employees Show",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/admin/employees/show_employee/{{user_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "admin",
                "employees",
                "show_employee",
                "{{user_id}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Employees Update",
          "request": {
            "method": "PUT",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/admin/employees/update_employee/{{user_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "admin",
                "employees",
                "update_employee",
                "{{user_id}}"
              ]
            },
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "name",
                  "value": "Updated Employee",
                  "type": "text"
                },
                {
                  "key": "phone",
                  "value": "0503333333",
                  "type": "text"
                },
                {
                  "key": "role",
                  "value": "sales_leader",
                  "type": "text"
                },
                {
                  "key": "is_manager",
                  "value": "true",
                  "type": "text"
                },
                {
                  "key": "team",
                  "value": "1",
                  "type": "text"
                },
                {
                  "key": "salary",
                  "value": "9500",
                  "type": "text"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Employees Delete",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/admin/employees/delete_employee/{{user_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "admin",
                "employees",
                "delete_employee",
                "{{user_id}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Employees Restore",
          "request": {
            "method": "PATCH",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/admin/employees/restore/{{user_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "admin",
                "employees",
                "restore",
                "{{user_id}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Admin Contracts Index",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/admin/contracts/adminIndex",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "admin",
                "contracts",
                "adminIndex"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Admin Contracts Update",
          "request": {
            "method": "PATCH",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/admin/contracts/adminUpdateStatus/{{contract_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "admin",
                "contracts",
                "adminUpdateStatus",
                "{{contract_id}}"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"approved\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": []
        },
        {
          "name": "Admin Notifications",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/admin/notifications",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "admin",
                "notifications"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Admin Notifications Send User",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/admin/notifications/send-to-user",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "admin",
                "notifications",
                "send-to-user"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user_id\": \"{{user_id}}\",\n  \"message\": \"System maintenance tonight\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": []
        },
        {
          "name": "Admin Notifications Send Public",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/admin/notifications/send-public",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "admin",
                "notifications",
                "send-public"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"message\": \"Public announcement\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": []
        },
        {
          "name": "Admin Notifications User",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/admin/notifications/user/{{user_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "admin",
                "notifications",
                "user",
                "{{user_id}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Admin Notifications Public",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/admin/notifications/public",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "admin",
                "notifications",
                "public"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Assign Project",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/admin/sales/project-assignments",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "admin",
                "sales",
                "project-assignments"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"contract_id\": \"{{contract_id}}\",\n  \"leader_id\": \"{{user_id}}\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "User Notifications",
      "item": [
        {
          "name": "Private Notifications",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/user/notifications/private",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "user",
                "notifications",
                "private"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Public Notifications",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/user/notifications/public",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "user",
                "notifications",
                "public"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Mark All Read",
          "request": {
            "method": "PATCH",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/user/notifications/mark-all-read",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "user",
                "notifications",
                "mark-all-read"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Mark One Read",
          "request": {
            "method": "PATCH",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/user/notifications/{{notification_id}}/read",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "user",
                "notifications",
                "{{notification_id}}",
                "read"
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Exclusive Projects",
      "item": [
        {
          "name": "Exclusive List",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/exclusive-projects",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "exclusive-projects"
              ],
              "query": [
                {
                  "key": "per_page",
                  "value": "15"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Exclusive Show",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/exclusive-projects/{{exclusive_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "exclusive-projects",
                "{{exclusive_id}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Exclusive Create",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/exclusive-projects",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "exclusive-projects"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"project_name\": \"Exclusive Towers\",\n  \"developer_name\": \"Exclusive Dev\",\n  \"developer_contact\": \"0504444444\",\n  \"project_description\": \"High-end project\",\n  \"estimated_units\": 30,\n  \"location_city\": \"Riyadh\",\n  \"location_district\": \"Al Malqa\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "let body;",
                  "try { body = pm.response.json(); } catch (e) { body = null; }",
                  "if (!body) return;",
                  "const data = body.data ?? body;",
                  "const envKey = 'exclusive_id';",
                  "const id = (data && (data.id ?? data[envKey])) ?? body[envKey];",
                  "if (id) { pm.environment.set(envKey, id); }"
                ]
              }
            }
          ]
        },
        {
          "name": "Exclusive Approve",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/exclusive-projects/{{exclusive_id}}/approve",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "exclusive-projects",
                "{{exclusive_id}}",
                "approve"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Exclusive Reject",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/exclusive-projects/{{exclusive_id}}/reject",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "exclusive-projects",
                "{{exclusive_id}}",
                "reject"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"rejection_reason\": \"Not aligned\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": []
        },
        {
          "name": "Exclusive Complete Contract",
          "request": {
            "method": "PUT",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/exclusive-projects/{{exclusive_id}}/contract",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "exclusive-projects",
                "{{exclusive_id}}",
                "contract"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"units\": [\n    {\n      \"type\": \"Apartment\",\n      \"count\": 10,\n      \"price\": 700000\n    },\n    {\n      \"type\": \"Villa\",\n      \"count\": 5,\n      \"price\": 2000000\n    }\n  ],\n  \"notes\": \"Contract completed\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": []
        },
        {
          "name": "Exclusive Export",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/exclusive-projects/{{exclusive_id}}/export",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "exclusive-projects",
                "{{exclusive_id}}",
                "export"
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Marketing",
      "item": [
        {
          "name": "Marketing Dashboard",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/marketing/dashboard",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "marketing",
                "dashboard"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Marketing Projects",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/marketing/projects",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "marketing",
                "projects"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Marketing Project Show",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/marketing/projects/{{contract_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "marketing",
                "projects",
                "{{contract_id}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Marketing Calculate Budget",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/marketing/projects/calculate-budget",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "marketing",
                "projects",
                "calculate-budget"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"contract_id\": \"{{contract_id}}\",\n  \"marketing_value\": 100000,\n  \"average_cpm\": 15.5,\n  \"average_cpc\": 2.3,\n  \"conversion_rate\": 2.5\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": []
        },
        {
          "name": "Developer Plan Show",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/marketing/developer-plans/{{contract_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "marketing",
                "developer-plans",
                "{{contract_id}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Developer Plan Store",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/marketing/developer-plans",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "marketing",
                "developer-plans"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"contract_id\": \"{{contract_id}}\",\n  \"marketing_value\": 100000,\n  \"average_cpm\": 15.5,\n  \"average_cpc\": 2.3,\n  \"conversion_rate\": 2.5,\n  \"expected_bookings\": 1000,\n  \"notes\": \"Targeting Riyadh\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": []
        },
        {
          "name": "Employee Plans Project",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/marketing/employee-plans/project/{{project_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "marketing",
                "employee-plans",
                "project",
                "{{project_id}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Employee Plan Show",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/marketing/employee-plans/{{plan_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "marketing",
                "employee-plans",
                "{{plan_id}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Employee Plan Store",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/marketing/employee-plans",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "marketing",
                "employee-plans"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"marketing_project_id\": \"{{marketing_project_id}}\",\n  \"user_id\": \"{{user_id}}\",\n  \"commission_value\": 20000,\n  \"marketing_value\": 50000,\n  \"platform_distribution\": [\n    {\n      \"platform\": \"facebook\",\n      \"percentage\": 40\n    },\n    {\n      \"platform\": \"snapchat\",\n      \"percentage\": 60\n    }\n  ],\n  \"campaign_distribution\": [\n    {\n      \"campaign\": \"brand\",\n      \"percentage\": 30\n    },\n    {\n      \"campaign\": \"performance\",\n      \"percentage\": 70\n    }\n  ]\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": []
        },
        {
          "name": "Employee Plan Auto",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/marketing/employee-plans/auto-generate",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "marketing",
                "employee-plans",
                "auto-generate"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"marketing_project_id\": \"{{marketing_project_id}}\",\n  \"user_id\": \"{{user_id}}\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": []
        },
        {
          "name": "Expected Sales",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/marketing/expected-sales/{{project_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "marketing",
                "expected-sales",
                "{{project_id}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Update Conversion Rate",
          "request": {
            "method": "PUT",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/marketing/settings/conversion-rate",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "marketing",
                "settings",
                "conversion-rate"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"value\": 2.5\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": []
        },
        {
          "name": "Marketing Tasks",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/marketing/tasks",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "marketing",
                "tasks"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Marketing Task Create",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/marketing/tasks",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "marketing",
                "tasks"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"contract_id\": \"{{contract_id}}\",\n  \"marketing_project_id\": \"{{marketing_project_id}}\",\n  \"task_name\": \"Create Facebook Campaign\",\n  \"marketer_id\": \"{{user_id}}\",\n  \"participating_marketers_count\": 2,\n  \"design_link\": \"https://example.com/design\",\n  \"design_number\": \"MK-2026-001\",\n  \"design_description\": \"Ad creatives\",\n  \"status\": \"new\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "let body;",
                  "try { body = pm.response.json(); } catch (e) { body = null; }",
                  "if (!body) return;",
                  "const data = body.data ?? body;",
                  "const envKey = 'task_id';",
                  "const id = (data && (data.id ?? data[envKey])) ?? body[envKey];",
                  "if (id) { pm.environment.set(envKey, id); }"
                ]
              }
            }
          ]
        },
        {
          "name": "Marketing Task Update",
          "request": {
            "method": "PUT",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/marketing/tasks/{{task_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "marketing",
                "tasks",
                "{{task_id}}"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"task_name\": \"Updated Task\",\n  \"status\": \"in_progress\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": []
        },
        {
          "name": "Marketing Task Status",
          "request": {
            "method": "PATCH",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/marketing/tasks/{{task_id}}/status",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "marketing",
                "tasks",
                "{{task_id}}",
                "status"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"completed\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": []
        },
        {
          "name": "Marketing Team Assign",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/marketing/projects/{{project_id}}/team",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "marketing",
                "projects",
                "{{project_id}}",
                "team"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user_ids\": [\n    \"{{user_id}}\"\n  ]\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": []
        },
        {
          "name": "Marketing Team Get",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/marketing/projects/{{project_id}}/team",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "marketing",
                "projects",
                "{{project_id}}",
                "team"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Marketing Recommend",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/marketing/projects/{{project_id}}/recommend-employee",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "marketing",
                "projects",
                "{{project_id}}",
                "recommend-employee"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Marketing Leads",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/marketing/leads",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "marketing",
                "leads"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Marketing Lead Create",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/marketing/leads",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "marketing",
                "leads"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Lead Name\",\n  \"contact_info\": \"lead@example.com\",\n  \"source\": \"Facebook\",\n  \"project_id\": \"{{contract_id}}\",\n  \"assigned_to\": \"{{user_id}}\",\n  \"status\": \"new\",\n  \"notes\": \"Interested in unit A-101\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "let body;",
                  "try { body = pm.response.json(); } catch (e) { body = null; }",
                  "if (!body) return;",
                  "const data = body.data ?? body;",
                  "const envKey = 'lead_id';",
                  "const id = (data && (data.id ?? data[envKey])) ?? body[envKey];",
                  "if (id) { pm.environment.set(envKey, id); }"
                ]
              }
            }
          ]
        },
        {
          "name": "Marketing Lead Update",
          "request": {
            "method": "PUT",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/marketing/leads/{{lead_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "marketing",
                "leads",
                "{{lead_id}}"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"contacted\",\n  \"assigned_to\": \"{{user_id}}\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": []
        },
        {
          "name": "Marketing Report Project",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/marketing/reports/project/{{project_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "marketing",
                "reports",
                "project",
                "{{project_id}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Marketing Report Budget",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/marketing/reports/budget",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "marketing",
                "reports",
                "budget"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Marketing Report Expected",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/marketing/reports/expected-bookings",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "marketing",
                "reports",
                "expected-bookings"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Marketing Report Employee",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/marketing/reports/employee/{{user_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "marketing",
                "reports",
                "employee",
                "{{user_id}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Marketing Report Export",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/marketing/reports/export/{{plan_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "marketing",
                "reports",
                "export",
                "{{plan_id}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Marketing Settings",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/marketing/settings",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "marketing",
                "settings"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Marketing Settings Update",
          "request": {
            "method": "PUT",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/marketing/settings/{{setting_key}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "marketing",
                "settings",
                "{{setting_key}}"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"value\": \"3.0\",\n  \"description\": \"Updated conversion rate\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Sales Analytics & Finance",
      "item": [
        {
          "name": "Analytics Dashboard",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/sales/analytics/dashboard",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "sales",
                "analytics",
                "dashboard"
              ],
              "query": [
                {
                  "key": "from",
                  "value": "2026-02-01"
                },
                {
                  "key": "to",
                  "value": "2026-02-28"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Analytics Sold Units",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/sales/analytics/sold-units",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "sales",
                "analytics",
                "sold-units"
              ],
              "query": [
                {
                  "key": "from",
                  "value": "2026-02-01"
                },
                {
                  "key": "to",
                  "value": "2026-02-28"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Analytics Deposits Stats",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/sales/analytics/deposits/stats/project/{{contract_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "sales",
                "analytics",
                "deposits",
                "stats",
                "project",
                "{{contract_id}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Analytics Commissions Stats",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/sales/analytics/commissions/stats/employee/{{user_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "sales",
                "analytics",
                "commissions",
                "stats",
                "employee",
                "{{user_id}}"
              ],
              "query": [
                {
                  "key": "from",
                  "value": "2026-02-01"
                },
                {
                  "key": "to",
                  "value": "2026-02-28"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Analytics Monthly Report",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/sales/analytics/commissions/monthly-report",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "sales",
                "analytics",
                "commissions",
                "monthly-report"
              ],
              "query": [
                {
                  "key": "year",
                  "value": "2026"
                },
                {
                  "key": "month",
                  "value": "2"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Commissions List",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/sales/commissions",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "sales",
                "commissions"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Commissions Create",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/sales/commissions",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "sales",
                "commissions"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"contract_unit_id\": \"{{contract_unit_id}}\",\n  \"sales_reservation_id\": \"{{reservation_id}}\",\n  \"final_selling_price\": 1500000,\n  \"commission_percentage\": 2.5,\n  \"commission_source\": \"owner\",\n  \"team_responsible\": \"Sales Team A\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "let body;",
                  "try { body = pm.response.json(); } catch (e) { body = null; }",
                  "if (!body) return;",
                  "const data = body.data ?? body;",
                  "const envKey = 'commission_id';",
                  "const id = (data && (data.id ?? data[envKey])) ?? body[envKey];",
                  "if (id) { pm.environment.set(envKey, id); }"
                ]
              }
            }
          ]
        },
        {
          "name": "Commissions Show",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/sales/commissions/{{commission_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "sales",
                "commissions",
                "{{commission_id}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Commissions Update Expenses",
          "request": {
            "method": "PUT",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/sales/commissions/{{commission_id}}/expenses",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "sales",
                "commissions",
                "{{commission_id}}",
                "expenses"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"marketing_expenses\": 2000,\n  \"bank_fees\": 500\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": []
        },
        {
          "name": "Commissions Add Distribution",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/sales/commissions/{{commission_id}}/distributions",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "sales",
                "commissions",
                "{{commission_id}}",
                "distributions"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"type\": \"lead_generation\",\n  \"percentage\": 30,\n  \"user_id\": \"{{user_id}}\",\n  \"bank_account\": \"SA0000000000000000000003\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": []
        },
        {
          "name": "Commissions Distribute Lead",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/sales/commissions/{{commission_id}}/distribute/lead-generation",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "sales",
                "commissions",
                "{{commission_id}}",
                "distribute",
                "lead-generation"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"marketers\": [\n    {\n      \"user_id\": \"{{user_id}}\",\n      \"percentage\": 50,\n      \"bank_account\": \"SA0000000000000000000003\"\n    }\n  ]\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": []
        },
        {
          "name": "Commissions Distribute Persuasion",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/sales/commissions/{{commission_id}}/distribute/persuasion",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "sales",
                "commissions",
                "{{commission_id}}",
                "distribute",
                "persuasion"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"employees\": [\n    {\n      \"user_id\": \"{{user_id}}\",\n      \"percentage\": 50\n    }\n  ]\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": []
        },
        {
          "name": "Commissions Distribute Closing",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/sales/commissions/{{commission_id}}/distribute/closing",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "sales",
                "commissions",
                "{{commission_id}}",
                "distribute",
                "closing"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"closers\": [\n    {\n      \"user_id\": \"{{user_id}}\",\n      \"percentage\": 50\n    }\n  ]\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": []
        },
        {
          "name": "Commissions Distribute Management",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/sales/commissions/{{commission_id}}/distribute/management",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "sales",
                "commissions",
                "{{commission_id}}",
                "distribute",
                "management"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"management\": [\n    {\n      \"type\": \"team_leader\",\n      \"percentage\": 50,\n      \"user_id\": \"{{user_id}}\"\n    }\n  ]\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": []
        },
        {
          "name": "Commissions Approve",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/sales/commissions/{{commission_id}}/approve",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "sales",
                "commissions",
                "{{commission_id}}",
                "approve"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Commissions Mark Paid",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/sales/commissions/{{commission_id}}/mark-paid",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "sales",
                "commissions",
                "{{commission_id}}",
                "mark-paid"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Commissions Summary",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/sales/commissions/{{commission_id}}/summary",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "sales",
                "commissions",
                "{{commission_id}}",
                "summary"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Distributions Update",
          "request": {
            "method": "PUT",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/sales/commissions/distributions/{{distribution_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "sales",
                "commissions",
                "distributions",
                "{{distribution_id}}"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"percentage\": 40\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": []
        },
        {
          "name": "Distributions Delete",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/sales/commissions/distributions/{{distribution_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "sales",
                "commissions",
                "distributions",
                "{{distribution_id}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Distributions Approve",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/sales/commissions/distributions/{{distribution_id}}/approve",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "sales",
                "commissions",
                "distributions",
                "{{distribution_id}}",
                "approve"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Distributions Reject",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/sales/commissions/distributions/{{distribution_id}}/reject",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "sales",
                "commissions",
                "distributions",
                "{{distribution_id}}",
                "reject"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"notes\": \"Not eligible\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": []
        },
        {
          "name": "Deposits List",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/sales/deposits",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "sales",
                "deposits"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Deposits Create",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/sales/deposits",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "sales",
                "deposits"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"sales_reservation_id\": \"{{reservation_id}}\",\n  \"contract_id\": \"{{contract_id}}\",\n  \"contract_unit_id\": \"{{contract_unit_id}}\",\n  \"amount\": 50000,\n  \"payment_method\": \"bank_transfer\",\n  \"client_name\": \"John Doe\",\n  \"payment_date\": \"2026-02-01\",\n  \"commission_source\": \"owner\",\n  \"notes\": \"Initial deposit\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "let body;",
                  "try { body = pm.response.json(); } catch (e) { body = null; }",
                  "if (!body) return;",
                  "const data = body.data ?? body;",
                  "const envKey = 'deposit_id';",
                  "const id = (data && (data.id ?? data[envKey])) ?? body[envKey];",
                  "if (id) { pm.environment.set(envKey, id); }"
                ]
              }
            }
          ]
        },
        {
          "name": "Deposits Follow Up",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/sales/deposits/follow-up",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "sales",
                "deposits",
                "follow-up"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Deposits Show",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/sales/deposits/{{deposit_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "sales",
                "deposits",
                "{{deposit_id}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Deposits Update",
          "request": {
            "method": "PUT",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/sales/deposits/{{deposit_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "sales",
                "deposits",
                "{{deposit_id}}"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"amount\": 52000,\n  \"payment_method\": \"cash\",\n  \"client_name\": \"John Doe\",\n  \"payment_date\": \"2026-02-02\",\n  \"notes\": \"Updated\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": []
        },
        {
          "name": "Deposits Confirm Receipt",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/sales/deposits/{{deposit_id}}/confirm-receipt",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "sales",
                "deposits",
                "{{deposit_id}}",
                "confirm-receipt"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Deposits Mark Received",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/sales/deposits/{{deposit_id}}/mark-received",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "sales",
                "deposits",
                "{{deposit_id}}",
                "mark-received"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Deposits Refund",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/sales/deposits/{{deposit_id}}/refund",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "sales",
                "deposits",
                "{{deposit_id}}",
                "refund"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Deposits Generate Claim",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/sales/deposits/{{deposit_id}}/generate-claim",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "sales",
                "deposits",
                "{{deposit_id}}",
                "generate-claim"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Deposits Can Refund",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/sales/deposits/{{deposit_id}}/can-refund",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "sales",
                "deposits",
                "{{deposit_id}}",
                "can-refund"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Deposits Delete",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/sales/deposits/{{deposit_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "sales",
                "deposits",
                "{{deposit_id}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Deposits Bulk Confirm",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/sales/deposits/bulk-confirm",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "sales",
                "deposits",
                "bulk-confirm"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"deposit_ids\": [\n    \"{{deposit_id}}\"\n  ]\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": []
        },
        {
          "name": "Deposits Stats By Project",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/sales/deposits/stats/project/{{contract_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "sales",
                "deposits",
                "stats",
                "project",
                "{{contract_id}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Deposits By Reservation",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/sales/deposits/by-reservation/{{reservation_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "sales",
                "deposits",
                "by-reservation",
                "{{reservation_id}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Deposits Refundable",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/sales/deposits/refundable/project/{{contract_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "sales",
                "deposits",
                "refundable",
                "project",
                "{{contract_id}}"
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "AI Assistant",
      "item": [
        {
          "name": "Ask",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/ai/ask",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "ai",
                "ask"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"question\": \"List available units\",\n  \"section\": \"units\",\n  \"context\": {\n    \"project_id\": \"{{contract_id}}\"\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": []
        },
        {
          "name": "Chat",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/ai/chat",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "ai",
                "chat"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"message\": \"Show payment plans\",\n  \"session_id\": \"{{session_id}}\",\n  \"section\": \"contracts\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": []
        },
        {
          "name": "List Conversations",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/ai/conversations",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "ai",
                "conversations"
              ],
              "query": [
                {
                  "key": "per_page",
                  "value": "10"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Delete Conversation",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/ai/conversations/{{session_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "ai",
                "conversations",
                "{{session_id}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Sections",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/ai/sections",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "ai",
                "sections"
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Storage",
      "item": [
        {
          "name": "Get File",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/storage/{{file_path}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "storage",
                "{{file_path}}"
              ]
            }
          },
          "response": []
        }
      ]
    }
  ],
  "variable": [],
  "auth": {
    "type": "bearer",
    "bearer": [
      {
        "key": "token",
        "value": "{{active_token}}",
        "type": "string"
      }
    ]
  }
}